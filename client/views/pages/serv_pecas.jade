html
  head
    title SiGO | Serviços e Peças
    include ../partials/head.jade
  body.sigo_serv_pecas
    include ../partials/menu_lateral.jade

    div.container
      div.jumbotron
        if params.serv
          .alert.alert-success Serviço criado com sucesso!
        if params.peca
          .alert.alert-success Peça adicionada com sucesso!
        if params.err
          .alert.alert-danger Erro na comunicação com o servidor!
        h2 Serviços oferecidos
        div.list-group
          each servico in params.servicos
            .list-group-item(href='#')
              h4.list-group-item-heading.up-first-letter #{servico.nome}
              a.glyphicon.glyphicon-trash.pull-right(href="#", data-toggle="modal", data-target="#modalDServico", data-id="#{servico.id}")
              a.glyphicon.glyphicon-pencil.pull-right(href="#", data-toggle="modal", data-target="modalServico", id="linkServico")
              p.list-group-item-text.up-first-letter #{servico.descricao} - R$ #{servico.valor_mao_obra}
        a.btn.btn-primary(href="#", data-toggle="modal", data-target="#modalNovoServico") Adicionar Serviço
        hr.fancy-line
        h2 Peças disponíveis
        div.list-group
          each peca in params.pecas
            .list-group-item(href='#')
              a(href='#', data-toggle="modal", data-target="#modalPeca", id="linkPeca")
                h4.list-group-item-heading.up-first-letter(data-nome="#{peca.nome}", data-desc="#{peca.descricao}", data-valor="#{peca.preco}", data-quant="#{peca.quantidade}") #{peca.nome}
              a.glyphicon.glyphicon-trash.pull-right(href="#", data-toggle="modal", data-target="#modalDPeca", data-id="#{peca.id}")
              a.glyphicon.glyphicon-pencil.pull-right
              .list-group-item-text
                p.up-first-letter #{peca.descricao} - R$ #{peca.preco}
                p Quantidade disponível: #{peca.quantidade}
        a.btn.btn-primary(href="#", data-toggle="modal", data-target="#modalNovaPeca") Adicionar Peça

    //- Modal para confirmação - remoção de serviço
    .modal.fade(role="dialog", id="modalDServico")
      .modal-dialog
        .modal-content
          .modal-header
            h1.modal-title Deletar serviço
          .modal-body
            h3 Deseja deletar o serviço?
          .modal-footer
            .btn-group
              a.btn.btn-primary Deletar
              a.btn.btn-primary(data-dismiss="modal") Cancelar

    //- Modal para confirmação - remoção de peça
    .modal.fade(role="dialog", id="modalDPeca")
      .modal-dialog
        .modal-content
          .modal-header
            h1.modal-title Deletar peça
          .modal-body
            h3 Deseja deletar a peça?
          .modal-footer
            .btn-group
              a.btn.btn-primary Deletar
              a.btn.btn-primary(data-dismiss="modal") Cancelar

    include ../partials/_modal_adicionar_serv.jade
    include ../partials/_modal_adicionar_peca.jade

    script(src='../js/serv_pecas.js')

    //- data-nome="#{servico.nome}", data-desc="#{servico.descricao}", data-valor="#{servico.valor_mao_obra}"